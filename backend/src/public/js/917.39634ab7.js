"use strict";(self["webpackChunknpmlite"]=self["webpackChunknpmlite"]||[]).push([[917],{5041:(e,l,a)=>{a.d(l,{Z:()=>u});var t=a(1959),s=a(52),o=a.n(s),i=a(9582),n=a(4584);const d=()=>{const e=(0,t.iH)(null),l="/",a=(0,i.tv)();function s(e){const l=`; ${document.cookie}`,a=l.split(`; ${e}=`);if(2===a.length)return a.pop().split(";").shift()}const d={withCredentials:!0,credentials:"same-origin",headers:{"X-CSRF-TOKEN":s("csrf_access_token")}},u=async t=>{try{const s=await o().post(`${l}login`,t,d);if(e.value=null,"Change Password"!==s.data.Status)return a.push({name:"Dashboard"});if("Change Password"==s.data.Status)return n["default"].dispatch("update_change_password",{change:!0,afterLogin:!1})}catch(s){e.value=s.response.data.Error}},r=async t=>{try{return await o().post(`${l}changePassword`,t,d),a.push({name:"Dashboard"})}catch(s){if(e.value=s.response.data.Error,s.response&&401==s.response.status)return a.push({name:"Login"})}},c=async t=>{try{return await o().post(`${l}changePasswordLater`,t,d),a.push({name:"Dashboard"})}catch(s){if(e.value=s.response.data.Error,s.response&&401==s.response.status)return a.push({name:"Login"})}},m=async t=>{try{const a=await o().post(`${l}create`,t,d);return e.value=null,n["default"].dispatch("add_to_domain_list",t),a.data}catch(s){if(e.value=s.response.data.Error,s.response&&401==s.response.status)return a.push({name:"Login"})}},p=async t=>{try{return await o().post(`${l}update`,t,d),e.value=null,await v(),void await f()}catch(s){if(e.value=s.response.data.Error,s.response&&401==s.response.status)return a.push({name:"Login"})}},_=async t=>{try{const a=await o().post(`${l}requestSSL`,t,d);return e.value=null,a.data}catch(s){if(e.value=s.response.data.Error,s.response&&401==s.response.status)return a.push({name:"Login"})}},v=async()=>{try{const a=await o().get(`${l}list`,d);return n["default"].dispatch("update_domain_list",a.data.domain_list),void(e.value=null)}catch(t){if(e.value=t.response.data.Error,t.response&&401==t.response.status)return a.push({name:"Login"})}},f=async()=>{try{const a=await o().get(`${l}listSSL`,d);return n["default"].dispatch("update_ssl_list",a.data.ssl_list),void(e.value=null)}catch(t){if(e.value=t.response.data.Error,t.response&&401==t.response.status)return a.push({name:"Login"})}},w=async t=>{try{return await o().post(`${l}delete`,t,d),await v(),await f(),void(e.value=null)}catch(s){if(e.value=s.response.data.Error,s.response&&401==s.response.status)return a.push({name:"Login"})}},h=async t=>{try{return await o().post(`${l}enable`,t,d),await v(),void(e.value=null)}catch(s){if(e.value=s.response.data.Error,s.response&&401==s.response.status)return a.push({name:"Login"})}},y=async t=>{try{return await o().post(`${l}disable`,t,d),await v(),void(e.value=null)}catch(s){if(e.value=s.response.data.Error,s.response&&401==s.response.status)return a.push({name:"Login"})}},g=async e=>{try{return await o().post(`${l}logout`,e,d),a.push({name:"Login"})}catch(t){return a.push({name:"Login"})}};return{error:e,login:u,logout:g,changePassword:r,changePasswordLater:c,addNewHost:m,updateHost:p,requestNewSSL:_,listHosts:v,enableHost:h,disableHost:y,deleteHost:w,listSSLCerts:f}},u=d},4917:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Ce});var t=a(3673),s=a(2323);const o={key:0,class:"text-h6",style:{cursor:"default"}},i={key:1,class:"text-h6",style:{cursor:"default"}},n=(0,t.Uk)("Change Password"),d=(0,t.Uk)("Logout"),u={key:0},r={key:0,class:"text-h6",style:{cursor:"default"}},c={key:1,style:{width:"250px"}},m={key:0,style:{width:"250px"}},p={key:2,class:"bg-grey-1 q-mt-md q-pa-sm",style:{overflow:"hidden"}},_={class:"text-subtitle2 text-red",style:{cursor:"default"}},v=(0,t._)("div",{rounded:"",class:"text-black bg-grey-1 text-center q-pa-xs q-mt-md",style:{overflow:"hidden"}},[(0,t._)("span",{style:{cursor:"default"}}," S & D Nginx Proxy Manager Lite | github: @Sajjal ")],-1),f={key:1,class:"q-mt-sm shadow-4 bg-black"},w=(0,t._)("span",{class:"q-ml-sm"},null,-1),h={class:"q-ml-sm"},y=(0,t.Uk)(" Are you sure to delete "),g={class:"text-weight-bold"},k=(0,t.Uk)(" ? "),b={class:"q-ml-sm text-grey"},q={class:"text-red text-subtitle2 q-px-md"};function S(e,l,a,S,C,L){const V=(0,t.up)("q-btn"),W=(0,t.up)("q-item-section"),H=(0,t.up)("q-icon"),x=(0,t.up)("q-item"),P=(0,t.up)("q-list"),U=(0,t.up)("q-menu"),D=(0,t.up)("q-banner"),Z=(0,t.up)("q-select"),E=(0,t.up)("q-item-label"),j=(0,t.up)("q-toggle"),Q=(0,t.up)("q-separator"),T=(0,t.up)("q-scroll-area"),z=(0,t.up)("add_host"),$=(0,t.up)("q-linear-progress"),A=(0,t.up)("q-avatar"),N=(0,t.up)("q-card-section"),R=(0,t.up)("q-input"),I=(0,t.up)("q-card-actions"),F=(0,t.up)("q-card"),B=(0,t.up)("q-dialog"),Y=(0,t.up)("q-page"),K=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(Y,{class:"q-pa-md shadow-4 bg-black"},{default:(0,t.w5)((()=>[(0,t.Wm)(D,{"inline-actions":"",rounded:"",class:"text-white bg-primary q-pa-md q-mb-md",style:{overflow:"hidden"}},{action:(0,t.w5)((()=>[(0,t.Wm)(V,{dense:"",flat:"",round:"",icon:"person","aria-label":"Account",class:"q-ml-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(U,null,{default:(0,t.w5)((()=>[(0,t.Wm)(P,{style:{"min-width":"80px"}},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(x,{clickable:"",onClick:e.change_password},{default:(0,t.w5)((()=>[(0,t.Wm)(W,null,{default:(0,t.w5)((()=>[n])),_:1}),(0,t.Wm)(W,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(H,{color:"primary",name:"password"})])),_:1})])),_:1},8,["onClick"]),[[K]]),(0,t.wy)((0,t.Wm)(x,{clickable:"",onClick:e.logout_user},{default:(0,t.w5)((()=>[(0,t.Wm)(W,null,{default:(0,t.w5)((()=>[d])),_:1}),(0,t.Wm)(W,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(H,{color:"primary",name:"logout"})])),_:1})])),_:1},8,["onClick"]),[[K]])])),_:1})])),_:1})])),_:1})])),default:(0,t.w5)((()=>[(0,t.Wm)(V,{flat:"",round:"",dense:"",icon:"settings_input_antenna",class:"q-mr-md",onClick:e.goto_home},null,8,["onClick"]),e.isPC?((0,t.wg)(),(0,t.iD)("span",o," Nginx Proxy Manager Lite ")):((0,t.wg)(),(0,t.iD)("span",i," NPM Lite "))])),_:1}),e.store.state.display_list?((0,t.wg)(),(0,t.iD)("div",u,[(0,t.Wm)(D,{"inline-actions":"",rounded:"",class:"text-black bg-grey-1 q-mb-lg",style:{overflow:"hidden"}},{action:(0,t.w5)((()=>[e.isPC?((0,t.wg)(),(0,t.iD)("div",m,[(0,t.Wm)(Z,{dense:"",outlined:"",modelValue:e.filter,"onUpdate:modelValue":[l[2]||(l[2]=l=>e.filter=l),l[3]||(l[3]=l=>e.filter_list())],options:e.filter_option,label:"Filter",class:"q-mr-xl"},null,8,["modelValue","options"])])):(0,t.kq)("",!0),(0,t.Wm)(V,{round:"",color:"primary",icon:"add",dense:"",onClick:e.goto_add},null,8,["onClick"])])),default:(0,t.w5)((()=>[e.isPC?((0,t.wg)(),(0,t.iD)("span",r," Available Hosts ")):(0,t.kq)("",!0),e.isPC?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",c,[(0,t.Wm)(Z,{dense:"",outlined:"",modelValue:e.filter,"onUpdate:modelValue":[l[0]||(l[0]=l=>e.filter=l),l[1]||(l[1]=l=>e.filter_list())],options:e.filter_option,label:"Filter",class:"q-mr-xl"},null,8,["modelValue","options"])]))])),_:1}),e.list_hosts?((0,t.wg)(),(0,t.j4)(T,{key:0,dark:"","thumb-style":e.thumbStyle,class:"text-white rounded-borders",style:(0,s.j5)(e.isPC?"height: 60vh":"height:55vh;")},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.temp_domain_list,(l=>((0,t.wg)(),(0,t.iD)("div",{key:l.id},[(0,t.Wm)(x,{dark:""},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{avatar:""},{default:(0,t.w5)((()=>[l.enableSSL?((0,t.wg)(),(0,t.j4)(H,{key:0,name:"lock",class:"text-secondary"})):((0,t.wg)(),(0,t.j4)(H,{key:1,name:"no_encryption",class:"text-grey"}))])),_:2},1024),(0,t.Wm)(W,null,{default:(0,t.w5)((()=>[(0,t.Wm)(E,{class:"text-subtitle2"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(l.domain),1)])),_:2},1024),"static"==l.type?((0,t.wg)(),(0,t.j4)(E,{key:0,caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(l.static_path),1)])),_:2},1024)):(0,t.kq)("",!0),"redirect"==l.type?((0,t.wg)(),(0,t.j4)(E,{key:1,caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(l.redirect_url),1)])),_:2},1024)):(0,t.kq)("",!0),"reverse_proxy"==l.type?((0,t.wg)(),(0,t.j4)(E,{key:2,caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(l.ips[0].ip),1)])),_:2},1024)):(0,t.kq)("",!0)])),_:2},1024),(0,t.Wm)(W),(0,t.Wm)(W,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(j,{color:"blue",modelValue:e.activeStatus[l.domain],"onUpdate:modelValue":a=>e.activeStatus[l.domain]=a,"true-value":"0","false-value":"1",onClick:a=>e.enableDisable(l.domain)},null,8,["modelValue","onUpdate:modelValue","onClick"])])),_:2},1024),(0,t.Wm)(W,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{flat:"",dense:"",round:"",icon:"edit","aria-label":"Edit",onClick:a=>e.edit_host(l.domain)},null,8,["onClick"])])),_:2},1024),(0,t.Wm)(W,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{flat:"",dense:"",round:"",icon:"delete","aria-label":"Delete",class:"text-negative",onClick:a=>e.delete_host(l.domain)},null,8,["onClick"])])),_:2},1024)])),_:2},1024),(0,t.Wm)(Q,{dark:""})])))),128))])),_:1},8,["thumb-style","style"])):(0,t.kq)("",!0),e.list_ssl?((0,t.wg)(),(0,t.j4)(T,{key:1,dark:"","thumb-style":e.thumbStyle,class:"text-white rounded-borders",style:(0,s.j5)(e.isPC?"height: 60vh":"height:55vh;")},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.store.state.ssl_list,(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.id},[(0,t.Wm)(x,{dark:""},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(H,{name:"lock",class:"text-secondary"})])),_:1}),(0,t.Wm)(W,null,{default:(0,t.w5)((()=>[(0,t.Wm)(E,{class:"text-subtitle2"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.domain),1)])),_:2},1024),(0,t.Wm)(E,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.cert_info.ssl_active_from)+" to "+(0,s.zw)(e.cert_info.ssl_expiry),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(W),(0,t.Wm)(W,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(E,{class:"text-subtitle2"})])),_:1}),(0,t.Wm)(W,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(E,{class:"text-subtitle2"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.cert_info.ssl_issuer),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,t.Wm)(Q,{dark:""})])))),128))])),_:1},8,["thumb-style","style"])):(0,t.kq)("",!0),e.error?((0,t.wg)(),(0,t.iD)("div",p,[(0,t._)("span",_,(0,s.zw)(e.error),1)])):(0,t.kq)("",!0),v])):(0,t.kq)("",!0),e.store.state.display_add_form?((0,t.wg)(),(0,t.iD)("div",f,[(0,t.Wm)(z)])):(0,t.kq)("",!0),(0,t.Wm)(B,{modelValue:e.askToConfirmDelete,"onUpdate:modelValue":l[5]||(l[5]=l=>e.askToConfirmDelete=l),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(F,{style:{"min-width":"300px"}},{default:(0,t.w5)((()=>[(0,t.Wm)($,{value:1,color:"red"}),(0,t.Wm)(N,{class:"row items-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(A,{icon:"warning",color:"negative","text-color":"white"}),w,(0,t._)("div",null,[(0,t._)("div",h,[y,(0,t._)("span",g,(0,s.zw)(e.selected_domain_to_delete),1),k]),(0,t._)("div",b,"You will loose all config and SSL certs related to "+(0,s.zw)(e.selected_domain_to_delete)+" !",1)])])),_:1}),(0,t.Wm)(N,null,{default:(0,t.w5)((()=>[(0,t.Wm)(R,{outlined:"",modelValue:e.confirmDeleteDomainName,"onUpdate:modelValue":l[4]||(l[4]=l=>e.confirmDeleteDomainName=l),label:"Enter domain name to confirm!",class:"p-pa-sm"},null,8,["modelValue"])])),_:1}),e.error?((0,t.wg)(),(0,t.j4)(N,{key:0},{default:(0,t.w5)((()=>[(0,t._)("div",q,(0,s.zw)(e.error),1)])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(I,{align:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{flat:"",label:"Delete",color:"red",onClick:e.confirm_delete_host},null,8,["onClick"]),(0,t.Wm)(V,{flat:"",label:"Cancel",color:"primary",onClick:e.cancel_delete_host},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var C=a(1959),L=a(8825),V=a(9582),W=a(4584),H=a(8880);const x={class:"text-h6",style:{cursor:"default"}},P={class:"q-pt-md text-white"},U={key:2},D={class:"q-pt-md text-white"},Z={key:3,class:"text-white"},E=(0,t.Uk)(" I Accept Let's Encrypt's "),j=(0,t._)("a",{href:"https://letsencrypt.org/repository/",style:{color:"#69c"}},"Terms of Service!",-1),Q=(0,t._)("div",null,null,-1),T={class:"q-pt-md text-white"},z=(0,t.Uk)(" Requesting... "),$={key:0,class:"bg-grey-1 q-mt-md q-pa-sm",style:{overflow:"hidden"}},A={class:"text-subtitle2 text-red",style:{cursor:"default"}},N=(0,t.Uk)(" Updating Host... "),R=(0,t.Uk)(" Adding Host... ");function I(e,l,a,o,i,n){const d=(0,t.up)("q-banner"),u=(0,t.up)("q-input"),r=(0,t.up)("q-radio"),c=(0,t.up)("q-btn"),m=(0,t.up)("q-checkbox"),p=(0,t.up)("q-separator"),_=(0,t.up)("q-select"),v=(0,t.up)("q-toggle"),f=(0,t.up)("q-spinner-hourglass"),w=(0,t.up)("q-scroll-area"),h=(0,t.up)("q-btn-group");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(d,{rounded:"",class:"text-black bg-grey-1 q-mb-md",style:{overflow:"hidden"}},{default:(0,t.w5)((()=>[(0,t._)("span",x,(0,s.zw)(o.pageTitle),1)])),_:1}),(0,t._)("div",null,[(0,t.Wm)(u,{dark:"",dense:"",outlined:"",modelValue:o.domain,"onUpdate:modelValue":l[0]||(l[0]=e=>o.domain=e),label:"Domain"},null,8,["modelValue"]),(0,t.Wm)(w,{dark:"","thumb-style":o.thumbStyle,class:"text-white",style:(0,s.j5)(o.isPC?"height: 55vh":"height:42vh;")},{default:(0,t.w5)((()=>[(0,t._)("div",P,[(0,t.Wm)(r,{dark:"",modelValue:o.type,"onUpdate:modelValue":l[1]||(l[1]=e=>o.type=e),val:"static",label:"Static"},null,8,["modelValue"]),(0,t.Wm)(r,{dark:"",modelValue:o.type,"onUpdate:modelValue":l[2]||(l[2]=e=>o.type=e),val:"reverse_proxy",label:"Reverse Proxy",color:"secondary",class:"q-pl-md"},null,8,["modelValue"]),(0,t.Wm)(r,{dark:"",modelValue:o.type,"onUpdate:modelValue":l[3]||(l[3]=e=>o.type=e),val:"redirect",label:"Redirect 301",color:"purple",class:"q-pl-md"},null,8,["modelValue"])]),"static"==o.type?((0,t.wg)(),(0,t.j4)(u,{key:0,dark:"",dense:"",outlined:"",modelValue:o.static_path,"onUpdate:modelValue":l[4]||(l[4]=e=>o.static_path=e),label:"Static Path /",class:"q-mt-md"},null,8,["modelValue"])):(0,t.kq)("",!0),"redirect"==o.type?((0,t.wg)(),(0,t.j4)(u,{key:1,dark:"",dense:"",outlined:"",modelValue:o.redirect_url,"onUpdate:modelValue":l[5]||(l[5]=e=>o.redirect_url=e),label:"Redirect Url",class:"q-mt-md"},null,8,["modelValue"])):(0,t.kq)("",!0),"reverse_proxy"==o.type?((0,t.wg)(),(0,t.iD)("div",U,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.ips,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{key:`ip-${l}`,class:(0,s.C_)(o.isPC?"row":"")},[(0,t.Wm)(u,{dark:"",dense:"",outlined:"",modelValue:e.ip,"onUpdate:modelValue":l=>e.ip=l,label:"Forward ip/hostname",class:"q-mt-md",style:(0,s.j5)(o.isPC&&o.ips.length<=1?"width: 82%":o.isPC&&o.ips.length>1?"width: 77%":"")},null,8,["modelValue","onUpdate:modelValue","style"]),(0,t.Wm)(u,{dark:"",dense:"",outlined:"",modelValue:e.port,"onUpdate:modelValue":l=>e.port=l,label:"Port",class:(0,s.C_)(o.isPC?"q-mt-md q-ml-sm":"q-mt-md"),style:(0,s.j5)(o.isPC?"width: 12%":"")},null,8,["modelValue","onUpdate:modelValue","class","style"]),o.isPC?((0,t.wg)(),(0,t.j4)(c,{key:0,color:"primary",icon:"add",dense:"",class:"q-mt-md q-ml-sm",size:"md",onClick:l=>o.add_ip_and_port(e)},null,8,["onClick"])):((0,t.wg)(),(0,t.j4)(c,{key:1,color:"primary",icon:"add",dense:"",class:"q-mt-md",size:"md",label:"Add Another Forward ip ",onClick:l=>o.add_ip_and_port(e)},null,8,["onClick"])),o.isPC?(0,t.wy)(((0,t.wg)(),(0,t.j4)(c,{key:2,color:"negative",icon:"remove",dense:"",class:"q-mt-md q-ml-sm",size:"md",onClick:e=>o.remove_ip_and_port(l)},null,8,["onClick"])),[[H.F8,o.ips.length>1]]):(0,t.wy)(((0,t.wg)(),(0,t.j4)(c,{key:3,color:"negative",icon:"remove",dense:"",class:"q-mt-md",size:"md",label:"Remove Forward ip ",onClick:e=>o.remove_ip_and_port(l)},null,8,["onClick"])),[[H.F8,o.ips.length>1]])],2)))),128))])):(0,t.kq)("",!0),(0,t._)("div",D,[(0,t.Wm)(m,{dark:"",modelValue:o.block_exploit,"onUpdate:modelValue":l[6]||(l[6]=e=>o.block_exploit=e),label:"Block Common Exploits",color:"teal"},null,8,["modelValue"]),o.isPC?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(p,{key:0})),"redirect"!=o.type?((0,t.wg)(),(0,t.j4)(m,{key:1,dark:"",modelValue:o.websocket,"onUpdate:modelValue":l[7]||(l[7]=e=>o.websocket=e),label:"Websocket Support",color:"orange",class:(0,s.C_)(o.isPC?"q-pl-md":"")},null,8,["modelValue","class"])):(0,t.kq)("",!0),o.isPC?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(p,{key:2})),"redirect"!=o.type?((0,t.wg)(),(0,t.j4)(m,{key:3,dark:"",modelValue:o.enableSSL,"onUpdate:modelValue":l[8]||(l[8]=e=>o.enableSSL=e),label:"Enable SSL",class:(0,s.C_)(o.isPC?"q-pl-md":"")},null,8,["modelValue","class"])):(0,t.kq)("",!0)]),o.enableSSL&&"redirect"!=o.type?((0,t.wg)(),(0,t.iD)("div",Z,[(0,t.Wm)(_,{dark:"",dense:"",outlined:"",modelValue:o.selected_option,"onUpdate:modelValue":[l[9]||(l[9]=e=>o.selected_option=e),l[10]||(l[10]=e=>o.select_ssl_option())],options:o.sslList,label:"Select SSL Certificate",class:"q-mt-md"},null,8,["modelValue","options"]),o.request_new_ssl?((0,t.wg)(),(0,t.j4)(u,{key:0,dark:"",dense:"",outlined:"",modelValue:o.le_email,"onUpdate:modelValue":l[11]||(l[11]=e=>o.le_email=e),label:"Email for Let's Encrypt",class:"q-mt-md"},null,8,["modelValue"])):(0,t.kq)("",!0),o.request_new_ssl?((0,t.wg)(),(0,t.j4)(v,{key:1,color:"secondary",modelValue:o.agree_le_tos,"onUpdate:modelValue":l[12]||(l[12]=e=>o.agree_le_tos=e)},{default:(0,t.w5)((()=>[E,j])),_:1},8,["modelValue"])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),Q,(0,t._)("div",T,[o.enableSSL&&o.request_new_ssl&&"redirect"!=o.type?((0,t.wg)(),(0,t.j4)(c,{key:0,color:"purple",icon:"schedule_send",label:"Request Free SSL",size:"md",loading:o.isSSLLoading,onClick:o.handle_request_ssl},{loading:(0,t.w5)((()=>[(0,t.Wm)(f,{class:"on-left"}),z])),_:1},8,["loading","onClick"])):(0,t.kq)("",!0),o.isPC?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(p,{key:1})),o.enableSSL&&o.valid_ssl&&"redirect"!=o.type?((0,t.wg)(),(0,t.j4)(m,{key:2,dark:"",modelValue:o.forceSSL,"onUpdate:modelValue":l[13]||(l[13]=e=>o.forceSSL=e),label:"Force SSL",color:"teal",class:(0,s.C_)(o.isPC?"":"q-mt-md")},null,8,["modelValue","class"])):(0,t.kq)("",!0),o.isPC?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(p,{key:3})),o.enableSSL&&o.valid_ssl&&"redirect"!=o.type?((0,t.wg)(),(0,t.j4)(m,{key:4,dark:"",modelValue:o.http2,"onUpdate:modelValue":l[14]||(l[14]=e=>o.http2=e),label:"HTTP2 Support",class:(0,s.C_)(o.isPC?"q-pl-md":""),color:"orange-4"},null,8,["modelValue","class"])):(0,t.kq)("",!0),o.isPC?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(p,{key:5})),o.enableSSL&&o.valid_ssl&&"redirect"!=o.type?((0,t.wg)(),(0,t.j4)(m,{key:6,dark:"",modelValue:o.HSTS,"onUpdate:modelValue":l[15]||(l[15]=e=>o.HSTS=e),label:"HSTS Enabled",class:(0,s.C_)(o.isPC?"q-pl-md":"")},null,8,["modelValue","class"])):(0,t.kq)("",!0)])])),_:1},8,["thumb-style","style"]),o.error?((0,t.wg)(),(0,t.iD)("div",$,[(0,t._)("span",A,(0,s.zw)(o.error),1)])):(0,t.kq)("",!0),(0,t.Wm)(h,{spread:"",class:"q-mt-md"},{default:(0,t.w5)((()=>[o.store.state.edit_domain?((0,t.wg)(),(0,t.j4)(c,{key:0,color:"primary",label:"Update Host",icon:"add",loading:o.isLoading,onClick:o.add_host},{loading:(0,t.w5)((()=>[(0,t.Wm)(f,{class:"on-left"}),N])),_:1},8,["loading","onClick"])):((0,t.wg)(),(0,t.j4)(c,{key:1,color:"primary",label:"Add Host",icon:"add",loading:o.isLoading,onClick:o.add_host},{loading:(0,t.w5)((()=>[(0,t.Wm)(f,{class:"on-left"}),R])),_:1},8,["loading","onClick"])),(0,t.Wm)(c,{color:"grey",label:"Clear",icon:"clear",onClick:o.handle_clear},null,8,["onClick"])])),_:1})])],64)}var F=a(5041);const B={setup(){const e=(0,L.Z)();let l=!e.platform.is.mobile;const a=(0,C.iH)(null),t=(0,C.iH)(!1),s=(0,C.iH)(!1),{error:o,addNewHost:i,updateHost:n,requestNewSSL:d}=(0,F.Z)(),u=(0,C.iH)(""),r=(0,C.iH)("static"),c=(0,C.iH)(null),m=(0,C.iH)(null),p=(0,C.iH)([{ip:null,port:null}]),_=(0,C.iH)(!1),v=(0,C.iH)(!1),f=(0,C.iH)(!1),w=(0,C.iH)([{label:"Request New from Let's Encrypt",value:"request_new"}]),h=(0,C.iH)(null),y=(0,C.iH)(null),g=(0,C.iH)(!1),k=(0,C.iH)(!1),b=(0,C.iH)(!1),q=(0,C.iH)(!1),S=(0,C.iH)(!1),V=(0,C.iH)(!1),H=(0,C.iH)(null),x=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,P=/^(\*\.)?([a-z\d][a-z\d-]*[a-z\d]\.)+[a-z]+$/;function U(){W["default"].state.edit_domain?(a.value="Update Host",u.value=W["default"].state.edit_domain.domain,r.value=W["default"].state.edit_domain.type,c.value=W["default"].state.edit_domain.static_path,m.value=W["default"].state.edit_domain.redirect_url,"reverse_proxy"==W["default"].state.edit_domain.type&&(p.value=W["default"].state.edit_domain.ips),W["default"].state.edit_domain.block_exploit&&(_.value="True"==W["default"].state.edit_domain.block_exploit),W["default"].state.edit_domain.websocket&&(v.value="True"==W["default"].state.edit_domain.websocket),W["default"].state.edit_domain.enableSSL&&(f.value="True"==W["default"].state.edit_domain.enableSSL),W["default"].state.edit_domain.forceSSL&&(k.value="True"==W["default"].state.edit_domain.forceSSL),W["default"].state.edit_domain.agree_le_tos&&(g.value="True"==W["default"].state.edit_domain.agree_le_tos),W["default"].state.edit_domain.http2&&(b.value="True"==W["default"].state.edit_domain.http2),W["default"].state.edit_domain.HSTS&&(q.value="True"==W["default"].state.edit_domain.HSTS)):a.value="Add New Host",W["default"].state.ssl_list.length>0&&W["default"].state.ssl_list.forEach((e=>{w.value.push({label:e.domain,value:e.domain})}))}function D(e){e.ip&&p.value.push({ip:"",port:""})}function Z(e){p.value.splice(e,1)}function E(){"request_new"==h.value.value&&(S.value=!0,V.value=null),h.value.value&&"request_new"!=h.value.value&&(S.value=!1,W["default"].state.ssl_list.forEach((e=>{e.domain==h.value.value&&(V.value=!0,H.value={ssl_cert_path:e.ssl_cert_path,ssl_key_path:e.ssl_key_path})})))}async function j(){if(!u.value)return o.value="Error: Domain name is required!";if(!y.value)return o.value="Error: Email for Let's Encrypt is required!";if(!g.value)return o.value="Error: Let's Encrypt's TOS is not accepted!";if(!y.value.match(x))return o.value="Error: Invalid Email provided!";if(!u.value.match(P))return o.value="Error: Invalid Domain name!";s.value=!0;const e=await d({domain:u.value,email:y.value,agree_le_tos:g.value});o.value||(H.value=e,V.value=!0,w.value.push({label:u.value,value:u.value}),h.value=u.value,S.value=!1),s.value=!1}async function Q(){if(!u.value)return o.value="Error: Domain name is required!";if(!u.value.match(P))return o.value="Error: Invalid Domain name!";if("static"==r.value&&!c.value)return o.value="Error: Static path is required!";if("redirect"==r.value&&!m.value)return o.value="Error: Redirect URL is required!";if("reverse_proxy"==r.value&&!p.value[0].ip)return o.value="Error: At least one ip is required!";if(f.value&&(!h.value||"request_new"==h.value))return o.value="Error: At least one SSL cert is required!";t.value=!0;const e=p.value.filter((e=>{if(e.ip)return e.port||delete e.port,e}));f.value||(k.value=q.value=b.value=!1);const l={domain:u.value,type:r.value,static_path:c.value,redirect_url:m.value,ips:e,block_exploit:_.value,websocket:v.value,enableSSL:f.value,forceSSL:k.value,http2:b.value,HSTS:q.value,is_disabled:0};V.value&&(l["ssl_cert_path"]=H.value.ssl_cert_path,l["ssl_key_path"]=H.value.ssl_key_path),W["default"].state.edit_domain?await n(l):await i(l),o.value||W["default"].dispatch("update_display","list"),W["default"].dispatch("update_edit_domain",null),t.value=!1}function T(){W["default"].dispatch("update_edit_domain",null),u.value="",r.value="static",p.value=[{ip:null,port:null}],c.value=m.value=h.value=y.value=o.value=null,s.value=t.value=_.value=v.value=f.value=g.value=k.value=b.value=q.value=S.value=V.value=!1}return U(),{isPC:l,store:W["default"],pageTitle:a,isLoading:t,isSSLLoading:s,error:o,domain:u,type:r,static_path:c,redirect_url:m,ips:p,add_ip_and_port:D,remove_ip_and_port:Z,block_exploit:_,websocket:v,enableSSL:f,sslList:w,selected_option:h,select_ssl_option:E,le_email:y,agree_le_tos:g,handle_request_ssl:j,forceSSL:k,http2:b,HSTS:q,request_new_ssl:S,valid_ssl:V,add_host:Q,handle_clear:T,thumbStyle:{width:"0px"}}}};var Y=a(4260),K=a(5607),M=a(4842),O=a(1232),G=a(7991),X=a(8240),J=a(5735),ee=a(5869),le=a(8457),ae=a(8886),te=a(3282),se=a(6375),oe=a(7518),ie=a.n(oe);const ne=(0,Y.Z)(B,[["render",I]]),de=ne;ie()(B,"components",{QBanner:K.Z,QInput:M.Z,QScrollArea:O.Z,QRadio:G.Z,QBtn:X.Z,QCheckbox:J.Z,QSeparator:ee.Z,QSelect:le.Z,QToggle:ae.Z,QSpinnerHourglass:te.Z,QBtnGroup:se.Z});const ue=(0,t.aZ)({name:"PageIndex",components:{add_host:de},setup(){const e=(0,V.tv)(),l=(0,L.Z)();let a=!l.platform.is.mobile;const{error:s,listHosts:o,enableHost:i,disableHost:n,deleteHost:d,listSSLCerts:u,logout:r}=(0,F.Z)(),c=(0,C.iH)(!0),m=(0,C.iH)(!1);let p=(0,C.iH)([]);const _=(0,C.iH)(null),v=(0,C.iH)([{label:"All Hosts",value:"all_hosts"},{label:"Static Hosts",value:"static"},{label:"Reverse Proxy Hosts",value:"reverse_proxy"},{label:"Redirect Hosts",value:"redirect"},{label:"SSL Certificates",value:"ssl_certs"}]),f=(0,C.iH)({}),w=(0,C.iH)(!1),h=(0,C.iH)(null),y=(0,C.iH)(null);async function g(){await o(),await u(),p.value=W["default"].state.domain_list,b()}async function k(){if(c.value=!0,m.value=!1,p.value=W["default"].state.domain_list,"all_hosts"==_.value.value)return p.value;"ssl_certs"==_.value.value?(c.value=!1,m.value=!0,await u()):p.value=W["default"].state.domain_list.filter((e=>e.type==_.value.value))}function b(){for(let e in W["default"].state.domain_list)f.value[W["default"].state.domain_list[e].domain]=W["default"].state.domain_list[e].is_disabled.toString();p.value=W["default"].state.domain_list}async function q(e){"0"==f.value[e]?(await i({domain:e}),s.value&&(f.value[e]="1")):"1"==f.value[e]&&(await n({domain:e}),s.value&&(f.value[e]="0"))}function S(e){W["default"].dispatch("update_edit_domain",e),W["default"].dispatch("update_display","add")}function H(e){h.value=e,w.value=!0}async function x(){y.value==h.value?(await d({domain:y.value}),p.value=W["default"].state.domain_list,w.value=null,h.value=null,y.value=null,s.value=null):s.value="Error: Invalid Domain Name!"}function P(){w.value=null,h.value=null,y.value=null,s.value=null}function U(){W["default"].dispatch("update_edit_domain",null),W["default"].dispatch("update_display","list")}function D(){W["default"].dispatch("update_display","add")}function Z(){W["default"].dispatch("update_change_password",{change:!0,afterLogin:!0}),e.push({name:"Login"})}async function E(){await r()}return g(),(0,t.YP)((()=>W["default"].state.domain_list),(()=>{b()}),{deep:!0}),{isPC:a,thumbStyle:{width:"0px"},store:W["default"],temp_domain_list:p,list_hosts:c,edit_host:S,delete_host:H,list_ssl:m,filter_list:k,goto_home:U,goto_add:D,change_password:Z,logout_user:E,askToConfirmDelete:w,selected_domain_to_delete:h,confirmDeleteDomainName:y,activeStatus:f,enableDisable:q,confirm_delete_host:x,cancel_delete_host:P,filter:_,filter_option:v,error:s}}});var re=a(4379),ce=a(6335),me=a(7011),pe=a(3414),_e=a(2035),ve=a(4554),fe=a(2350),we=a(5926),he=a(151),ye=a(1598),ge=a(5589),ke=a(5096),be=a(9367),qe=a(677);const Se=(0,Y.Z)(ue,[["render",S]]),Ce=Se;ie()(ue,"components",{QPage:re.Z,QBanner:K.Z,QBtn:X.Z,QMenu:ce.Z,QList:me.Z,QItem:pe.Z,QItemSection:_e.Z,QIcon:ve.Z,QSelect:le.Z,QScrollArea:O.Z,QItemLabel:fe.Z,QToggle:ae.Z,QSeparator:ee.Z,QDialog:we.Z,QCard:he.Z,QLinearProgress:ye.Z,QCardSection:ge.Z,QAvatar:ke.Z,QInput:M.Z,QCardActions:be.Z}),ie()(ue,"directives",{ClosePopup:qe.Z})}}]);